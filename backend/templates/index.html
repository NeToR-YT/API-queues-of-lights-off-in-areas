<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>Графіки відключень — Тест</title>
</head>
<body>
    <h1>Тестовий фронтенд для перегляду графіків відключень</h1>
    <div id="schedules"></div>

    <script>
        async function loadSchedules() {
            try {
                const response = await fetch('/schedules');
                const data = await response.json();
                const container = document.getElementById('schedules');
                container.innerHTML = '';
                data.forEach(update => {
                    const div = document.createElement('div');
                    div.innerHTML = `
                        <h3>Дата графіка: ${update.schedule_date}, Час: ${update.schedule_time}</h3>
                        <ul>
                            ${Object.entries(update.schedule).map(([queue, periods]) => 
                                `<li><strong>${queue}:</strong> ${periods.join(', ')}</li>`
                            ).join('')}
                        </ul>
                        <hr>
                    `;
                    container.appendChild(div);
                });
            } catch (error) {
                console.error('Помилка завантаження:', error);
            }
        }

        loadSchedules();
    </script>
</body>
</html>